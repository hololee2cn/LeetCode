# 前 n 个数字二进制中 1 的个数(dp 位运算)

```go
package main

import "fmt"

// 给定一个非负整数 n，请计算 0 到 n 之间的每个数字的二进制表示中 1 的个数，并输出一个数组。
//
// 示例 1:
//
// 输入: n = 2
// 输出: [0,1,1]
// 解释:
// 0 --> 0
// 1 --> 1
// 2 --> 10
// 示例2:
//
// 输入: n = 5
// 输出: [0,1,1,2,1,2]
// 解释:
// 0 --> 0
// 1 --> 1
// 2 --> 10
// 3 --> 11
// 4 --> 100
// 5 --> 101

// 位运算说明

// a >> b & 1 代表检查 a 的第 b 位是否为 ，有两种可能性  或者 

// a += 1 << b 代表将 a 的第 b 位设置为  (当第 b 位为  的时候适用)

// 如不想写对第 b 位为  的前置判断，a += 1 << b 也可以改成 a |= 1 << b

func countBits(n int) []int {
   bits := make([]int, n+1)
   for i := 1; i <= n; i++ {
      bits[i] = bits[i>>1] + (i & 1)
   }
   return bits
}

func main() {
   cases := []int{
      2, 5,
   }
   for _, v := range cases {
      fmt.Println(countBits(v))
   }
}
```